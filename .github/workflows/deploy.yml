name: FTP Deploy

on:
  push:
    branches:
      - main  # O la rama que estés usando

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Upload via FTP
      uses: SamKirkland/FTP-Deploy-Action@4.3.0
      with:
        server: ${{ secrets.SERVER }}          # ftp.concejoformosa.org
        username: ${{ secrets.USERNAME }}      # concejofsaftp@concejoformosa.org
        password: ${{ secrets.PASSWORD }}      # Contraseña del FTP
        protocol: ftps                         # Usar FTPS explícito
        port: 21                               # Puerto 21 para FTP/FTPS
        local-dir: ./dist/                     # Sube solo lo que está dentro de dist/
        server-dir: /home/concejofsa/public_html/             # Asegúrate de que estos archivos vayan a /public_html/
        include: |
          assets/**
          index.html
        exclude: |
          **/*
        method: ftps                           # Usar FTPS para mayor seguridad





